"use strict";var GLOBALS={$preloader:$("#preloader"),$body:$("body"),$menu:$(".menu-overlay"),$menuOpenBtn:$(".header__menu-icon"),$header:$(".header-container"),$popupSuccess:$(".popup-success-container"),$videoPopup:$(".video-popup"),$video:$(".video"),$expertiseBlock:$("#expertise"),$teamsBlock:$("#teams")},CustomEvents={MENU_OPEN:"menu-open",MENU_CLOSE:"menu-close",POPUP_SUCCESS_OPEN:"popup-success-open",POPUP_SUCCESS_CLOSE:"popup-success-close",SCROLL_DISABLE:"scroll-disable",SCROLL_ENABLE:"scroll-enable",VIDEO_POPUP_OPEN:"video-popup-open",VIDEO_POPUP_CLOSE:"video-popup-close"};$(document).on(CustomEvents.MENU_OPEN,function(e){GLOBALS.$body.addClass("open-menu"),GLOBALS.$menu.addClass("open"),GLOBALS.$menuOpenBtn.addClass("hide")}),$(document).on(CustomEvents.MENU_CLOSE,function(e){GLOBALS.$body.removeClass("open-menu"),GLOBALS.$menu.removeClass("open"),GLOBALS.$menuOpenBtn.removeClass("hide")}),$(document).on(CustomEvents.POPUP_SUCCESS_OPEN,function(e){GLOBALS.$body.addClass("open-popup-success"),GLOBALS.$popupSuccess.addClass("active")}),$(document).on(CustomEvents.POPUP_SUCCESS_CLOSE,function(e){GLOBALS.$body.removeClass("open-popup-success"),GLOBALS.$popupSuccess.removeClass("active")}),$(document).on(CustomEvents.SCROLL_DISABLE,function(e){GLOBALS.$body.addClass("scroll-disable"),GLOBALS.$body.niceScroll().remove()}),$(document).on(CustomEvents.SCROLL_ENABLE,function(e){GLOBALS.$body.removeClass("scroll-disable"),GLOBALS.$body.niceScroll({cursorborder:"none",cursorcolor:"#716e78"})}),$(document).on(CustomEvents.VIDEO_POPUP_OPEN,function(e){GLOBALS.$body.addClass("video-popup-open"),GLOBALS.$videoPopup.addClass("active")}),$(document).on(CustomEvents.VIDEO_POPUP_CLOSE,function(e){GLOBALS.$body.removeClass("video-popup-open"),GLOBALS.$videoPopup.removeClass("active"),GLOBALS.$video.get(0).pause()}),$(function(){$(document).ready(function(){setTimeout(function(){GLOBALS.$preloader.addClass("hidden")},1e3)})}),$(function(){svg4everybody()}),$(function(){$(document).ready(function(){$(".carousel").slick({arrows:!1,dots:!0}),$(".carousel-comments").slick({arrows:!1,dots:!1,fade:!0,asNavFor:".carousel-commentators"}),$(".carousel-commentators").slick({slidesToShow:5,arrows:!0,loop:!0,centerPadding:"0",centerMode:!0,asNavFor:".carousel-comments",responsive:[{breakpoint:767,settings:{slidesToShow:3}}]})})}),$(function(){function e(){var e=$(window).scrollTop()+n+15,o=s.map(function(){if($(this).offset().top<e)return this}),c=o[o.length-1];t.removeClass("active"),$('.navigation__link[href="'+c+'"]').addClass("active"),$(window).scrollTop()===$(document).height()-$(window).height()&&(t.removeClass("active"),$(".navigation__link-container:last-child .navigation__link").addClass("active"))}function o(){$(document).scrollTop()>40?GLOBALS.$header.addClass("active"):GLOBALS.$header.removeClass("active")}o(),$(document).scroll(function(e){o()}),$(".header .navigation__link-container").clone().appendTo(".link-container");var n=$(".header").outerHeight(),t=$(".navigation__link"),s=t.map(function(){var e=$(this).attr("href");if(e.length)return e});e(),$(window).scroll(function(){e()}),$(document).on("click",".navigation__link",function(){var e=$(this),o=e.attr("href");$(".navigation__link").removeClass("active"),e.addClass("active"),$(o).animatescroll({scrollSpeed:1e3,padding:20})}),$(document).on("click",".header__menu-icon",function(){$(document).trigger(CustomEvents.MENU_OPEN),$(document).trigger(CustomEvents.SCROLL_DISABLE)}),$(document).on("click",".menu-overlay, .header__menu-icon",function(e){e.stopPropagation()}),$(document).on("click",".navigation__link, .menu-overlay__close",function(){$(document).trigger(CustomEvents.MENU_CLOSE),$(document).trigger(CustomEvents.SCROLL_ENABLE)}),$(document).click(function(e){GLOBALS.$body.hasClass("open-menu")&&($(document).trigger(CustomEvents.MENU_CLOSE),$(document).trigger(CustomEvents.SCROLL_ENABLE),e.preventDefault())})}),$(function(){function e(){return $.ajax({type:"POST",url:"mail.php",data:$(this).serialize()}).done(function(){$(this).find("input").val(""),$(document).trigger(CustomEvents.POPUP_SUCCESS_OPEN),$(document).trigger(CustomEvents.SCROLL_DISABLE),$(".feedback__form").trigger("reset")}),!1}$(".form__phone").mask("+7(000)000-00-00"),$.validator.addMethod("checkMask",function(e,o){return/\+\d{1}\(\d{3}\)\d{3}-\d{2}-\d{2}/g.test(e)}),$(".feedback__form").validate({submitHandler:function(o){e()},rules:{name:{required:!0},email:{required:!0,email:!0},phone:{required:!0,checkMask:!0},message:{required:!0}},messages:{name:"Please enter your name",email:"Please enter a valid email address",phone:"Please enter your telephone",message:"You must enter a message"}})}),$(function(){$(document).on("click",".play-btn",function(e){$(document).trigger(CustomEvents.VIDEO_POPUP_OPEN),$(document).trigger(CustomEvents.SCROLL_DISABLE),e.stopPropagation()}),$(document).click(function(e){GLOBALS.$body.hasClass("video-popup-open")&&($(document).trigger(CustomEvents.VIDEO_POPUP_CLOSE),$(document).trigger(CustomEvents.SCROLL_ENABLE),e.preventDefault()),GLOBALS.$body.hasClass("open-popup-success")&&($(document).trigger(CustomEvents.POPUP_SUCCESS_CLOSE),$(document).trigger(CustomEvents.SCROLL_ENABLE),e.preventDefault())}),$(document).on("click",".video, .popup-success",function(e){e.stopPropagation()}),$(document).on("click",".video-popup__close",function(){$(document).trigger(CustomEvents.VIDEO_POPUP_CLOSE),$(document).trigger(CustomEvents.SCROLL_ENABLE)}),$(document).on("click",".popup-success__close",function(e){$(document).trigger(CustomEvents.POPUP_SUCCESS_CLOSE),$(document).trigger(CustomEvents.SCROLL_ENABLE)})}),$(function(){$(document).keyup(function(e){27===e.keyCode&&($(document).trigger(CustomEvents.MENU_CLOSE),$(document).trigger(CustomEvents.POPUP_SUCCESS_CLOSE),$(document).trigger(CustomEvents.VIDEO_POPUP_CLOSE),$(document).trigger(CustomEvents.SCROLL_ENABLE))})}),$(function(){function e(e){var o=e.offset().top;$(document).scrollTop()>.7*o&&e.addClass("animate")}$(document).trigger(CustomEvents.SCROLL_ENABLE),e(GLOBALS.$expertiseBlock),e(GLOBALS.$teamsBlock),$(window).scroll(function(){e(GLOBALS.$expertiseBlock),e(GLOBALS.$teamsBlock)})});